% generated by Ott 0.28 from: lambdajulia.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \texttt{\small\color{jlbase}T} ,\, \texttt{\small\color{jlbase}N} ,\, \texttt{\small\color{jlbase}S} ,\, \texttt{\small\color{jlbase}R} ,\, \texttt{\small\color{jlbase}Q} $ & \ottcom{type variable} \\
 $ \mathit{fieldname} ,\, \mathit{fn} $ & \ottcom{field name} \\
 $ \textit{bits} $ & \ottcom{number of bits, must be 8, 16, 32, 64, 128} \\
 $ \ottmv{n} $ &  \\
 $ \ottmv{m} $ &  \\
 $ \ottmv{j} $ &  \\
 $ \ottmv{i} $ &  \\
}}

\newcommand{\ottname}{
\ottrulehead{\textit{\small name}}{::=}{\ottcom{type name}}\ottprodnewline
\ottfirstprodline{|}{ \texttt{\small\color{jlbuiltin} Dict} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Pair} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Array} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} AbstractArray} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Vector} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} String} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} UInt} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin}\color{jlbuiltin} Int} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Int32} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Integer} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Bool} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Float} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Ref} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Range} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Real} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Signed} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Unsigned} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Rational} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Complex} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Matrix} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Foo} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Number} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \triangle }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} Val} }{}{}{}{}}

\newcommand{\ottfield}{
\ottrulehead{\ottnt{field}}{::=}{\ottcom{composite type field}}\ottprodnewline
\ottfirstprodline{|}{\mathit{fn}}{}{}{}{\ottcom{field (type defaults to \texttt{\small\color{jlbuiltin} Any})}}\ottprodnewline
\ottprodline{|}{\mathit{fn}  ::  \ottnt{t}}{}{}{}{\ottcom{typed field}}}

\newcommand{\ottfields}{
\ottrulehead{\ottnt{fields}}{::=}{\ottcom{composite tyep fields}}\ottprodnewline
\ottfirstprodline{|}{\ottnt{field_{{\mathrm{1}}}} \, .. \, \ottnt{field_{\ottmv{n}}}}{}{}{}{\ottcom{field sequence (possibly empty)}}}

\newcommand{\ottattr}{
\ottrulehead{\textit{\small attr}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\texttt{\small abstract}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\texttt{primitive} \, \textit{bits}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\texttt{struct} \, \ottnt{fields}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\texttt{mutable} \, \texttt{struct} \, \ottnt{fields}}{}{}{}{}}

\newcommand{\ottvb}{
\ottrulehead{\ottnt{vb}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \ottnt{t_{{\mathrm{1}}}}  { \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, }  \texttt{\small\color{jlbase}T}  { \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, }  \ottnt{t_{{\mathrm{2}}}} }{}{}{}{}}

\newcommand{\otttd}{
\ottrulehead{\ottnt{td}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\textit{\small attr} \, \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \texttt{\small\color{jlbase}T}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \texttt{\small\color{jlbase}T}_{\ottmv{n}}  \ottsym{,} \, .. \, \texttt{\small\color{jlkeyword} \}\kern0pt}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \ottnt{t'_{{\mathrm{1}}}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \texttt{\small\color{jlbase}T}_{{\mathrm{1}}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t''_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t'_{\ottmv{n}}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \texttt{\small\color{jlbase}T}_{\ottmv{n}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t''_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \ottnt{vb_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{vb_{\ottmv{n}}}  \ottsym{,} \, .. \, \texttt{\small\color{jlkeyword} \}\kern0pt}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small attr} \, \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \ottnt{vb_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{vb_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t}}{}{}{}{}}

\newcommand{\ottstate}{
\ottrulehead{\ottnt{state}  ,\ \textit{st}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \textit{cov} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textit{inv} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textit{off} }{}{}{}{}}

\newcommand{\otttds}{
\ottrulehead{\textit{\small tds}}{::=}{\ottcom{type declarations}}\ottprodnewline
\ottfirstprodline{|}{\ottnt{td_{{\mathrm{1}}}} \, .. \, \ottnt{td_{\ottmv{n}}}}{}{}{}{\ottcom{type declarations}}}

\newcommand{\ottt}{
\ottrulehead{\ottnt{t}  ,\ \ottnt{u}  ,\ \ottnt{l}  ,\ \ottnt{p}}{::=}{\ottcom{types}}\ottprodnewline
\ottfirstprodline{|}{\texttt{\small\color{jlbuiltin} Any}}{}{}{}{\ottcom{Any}}\ottprodnewline
\ottprodline{|}{\texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}}{}{}{}{\ottcom{Union}}\ottprodnewline
\ottprodline{|}{\ottnt{t}  \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt}}{}{}{}{\ottcom{type instantiation with a type}}\ottprodnewline
\ottprodline{|}{ \ottnt{t} \:  \texttt{\small\color{jlbase}\textbf{where}\kern0pt} \:  \ottnt{t_{{\mathrm{1}}}} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \texttt{\small\color{jlbase}T} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \ottnt{t_{{\mathrm{2}}}} }{}{\textsf{bind}\; \texttt{\small\color{jlbase}T}\; \textsf{in}\; \ottnt{t}}{}{\ottcom{parametrised type}}\ottprodnewline
\ottprodline{|}{\texttt{\small\color{jlbase}T}}{}{}{}{\ottcom{type variable}}\ottprodnewline
\ottprodline{|}{\texttt{\small\color{jlbuiltin} Tuple}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt}}{}{}{}{\ottcom{Tuple}}\ottprodnewline
\ottprodline{|}{\textit{\small name}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\texttt{\small\color{jlbuiltin} DataType}}{}{}{}{\ottcom{DataType}}\ottprodnewline
\ottprodline{|}{ \texttt{\small\color{jlbuiltin} UnionAll} }{}{}{}{\ottcom{UnionAll}}\ottprodnewline
\ottprodline{|}{\texttt{\small\color{jlbuiltin} Union}}{}{}{}{\ottcom{Union}}\ottprodnewline
\ottprodline{|}{\texttt{\small\color{jlbuiltin} Type}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}  \texttt{\small\color{jlkeyword} \}\kern0pt}}{}{}{}{\ottcom{TypeT}}\ottprodnewline
\ottprodline{|}{\texttt{\small\color{jlbuiltin} Var}}{}{}{}{\ottcom{do not know about this, never exported}}\ottprodnewline
\ottprodline{|}{ \textit{\small typeof}\xspace{} ( \textit{\small a} ) }{}{}{}{}}

\newcommand{\ottts}{
\ottrulehead{\ottnt{ts}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottkw{empty}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{t:ts}}{}{}{}{}}

\newcommand{\ottv}{
\ottrulehead{\ottnt{v}}{::=}{\ottcom{plain-bit values}}\ottprodnewline
\ottfirstprodline{|}{ \texttt{\small\color{jlstring} 1} }{}{}{}{}}

\newcommand{\otta}{
\ottrulehead{\textit{\small a}}{::=}{\ottcom{arguments}}\ottprodnewline
\ottfirstprodline{|}{\ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{v}}{}{}{}{}}

\newcommand{\ottbvars}{
\ottrulehead{\ottnt{bvars}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\texttt{\small\color{jlbase}T}  \ottsym{,}  \ottnt{bvars}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \emptyset{} }{}{}{}{}}

\newcommand{\ottEXXdecl}{
\ottrulehead{v}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ {}^\textit{L} { \texttt{\small\color{jlbase}T} }_{ \ottnt{t_{{\mathrm{1}}}} }^{ \ottnt{t_{{\mathrm{2}}}} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \ottnt{t_{{\mathrm{1}}}} }^{ \ottnt{t_{{\mathrm{2}}}} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \ottnt{t_{{\mathrm{1}}}} \ (\textit{co},\textit{io})}^{ \ottnt{t_{{\mathrm{2}}}} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ { \texttt{\small\color{jlbase}T} }_{ \ottnt{t_{{\mathrm{1}}}} }^{ \ottnt{t_{{\mathrm{2}}}} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textsf{\small Barrier} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textit{\small search}( \ottnt{t} , \textit{\small E} ) }{}{}{}{}}

\newcommand{\ottG}{
\ottrulehead{\ottnt{G}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \emptyset{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\texttt{\small\color{jlbase}T}  \ottsym{;}  \ottnt{G}}{}{}{}{}}

\newcommand{\ottE}{
\ottrulehead{\textit{\small E}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \emptyset{} }{}{}{}{}\ottprodnewline
\ottprodline{|}{v  \ottsym{,}  \textit{\small E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{v_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  v_{\ottmv{n}}  \ottsym{,}  \textit{\small E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small E}  \setminus  \texttt{\small\color{jlbase}T}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small E}  \setminus  \texttt{\small\color{jlbase}T}_{{\mathrm{1}}} \, .. \, \texttt{\small\color{jlbase}T}_{\ottmv{n}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{v}{}{}{}{}}

\newcommand{\otttypeXXvarXXset}{
\ottrulehead{\ottnt{type\_var\_set}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\texttt{\small\color{jlbase}T}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \texttt{\small\color{jlbase}T}_{\ottmv{n}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textit{ftv}( \ottnt{t} ) }{}{}{}{}}

\newcommand{\ottpaperXXshortcuts}{
\ottrulehead{\ottnt{paper\_shortcuts}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{t_{{\mathrm{1}}}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{t_{{\mathrm{1}}}}  \ottsym{>:}  \ottnt{t_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{t_{{\mathrm{1}}}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t_{{\mathrm{2}}}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t_{{\mathrm{3}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{t_{{\mathrm{1}}}}  \, \texttt{\small\color{jlkeyword} $\not{<:}$ }  \ottnt{t_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small E}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small E}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \, \texttt{\small\color{jlkeyword} $\not{<:}$ }  \ottnt{t_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small E}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t_{{\mathrm{2}}}}  \vdash  \textit{\small E}'}{}{}{}{}\ottprodnewline
\ottprodline{|}{\textit{\small E}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \, \texttt{\small\color{jlkeyword} $\not{<:}$ }  \ottnt{t_{{\mathrm{2}}}}  \vdash  \textit{\small E}'}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottname\ottinterrule
\ottfield\ottinterrule
\ottfields\ottinterrule
\ottattr\ottinterrule
\ottvb\ottinterrule
\otttd\ottinterrule
\ottstate\ottinterrule
\otttds\ottinterrule
\ottt\ottinterrule
\ottts\ottinterrule
\ottv\ottinterrule
\otta\ottinterrule
\ottbvars\ottinterrule
\ottEXXdecl\ottinterrule
\ottG\ottinterrule
\ottE\ottinterrule
\otttypeXXvarXXset\ottinterrule
\ottpaperXXshortcuts\ottafterlastrule
}}

% defnss
% fundefns Simplify
% fundefn simplifyUnion

\newcommand{\ottfundefnsimplifyUnion}[1]{\begin{ottfundefnblock}[#1]{$\textit{simplify\_union} \, \texttt{\small\color{jlkeyword} (}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} )}$}{}
\ottfunclause{\textit{simplify\_union} \, \texttt{\small\color{jlkeyword} (}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} )}}{\textit{simplify\_union\_int} \, \texttt{\small\color{jlkeyword} (}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} )}  \ottkw{empty}}%
\end{ottfundefnblock}}


% fundefn simplify

\newcommand{\ottfundefnsimplify}[1]{\begin{ottfundefnblock}[#1]{$\textit{simplify} \, \texttt{\small\color{jlkeyword} (}  \textit{\small a}_{{\mathrm{1}}}  \texttt{\small\color{jlkeyword} )}$}{}
\end{ottfundefnblock}}


% fundefn simplifyUnionInt

\newcommand{\ottfundefnsimplifyUnionInt}[1]{\begin{ottfundefnblock}[#1]{$\textit{simplify\_union\_int} \, \texttt{\small\color{jlkeyword} (}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} )}  \ottnt{ts}$}{}
\ottfunclause{\texttt{\textcolor{red}{<<error>>}}}{\texttt{\textcolor{red}{<<(St\_uninterpreted no parses (char 1): [***[simplify\_union\_int]] (t1,t2,..,tn) ts === if exists 2<i<n, t1 <: ti  \mbox{$\backslash{}$}/ exists 1<i<m, t1 <: tsi  )>>}}}%
\ottfunclause{\texttt{\textcolor{red}{<<error>>}}}{\texttt{\textcolor{red}{<<(St\_uninterpreted no parses (char 39):                                       t***hen [[simplify\_union\_int]] (t2,..,tn) ts )>>}}}%
\ottfunclause{\texttt{\textcolor{red}{<<error>>}}}{\texttt{\textcolor{red}{<<(St\_uninterpreted no parses (char 39):                                       e***lse [[simplify\_union\_int]] (t2,..,tn) (t1::ts) )>>}}}%
\ottfunclause{\texttt{\textcolor{red}{<<error>>}}}{\texttt{\textcolor{red}{<<(St\_uninterpreted no parses (char 3):   [***[simplify\_union\_int]] ( ) , ts === if lenght(ts) = 1 )>>}}}%
\ottfunclause{\texttt{\textcolor{red}{<<error>>}}}{\texttt{\textcolor{red}{<<(St\_uninterpreted no parses (char 31):                               t***hen ts )>>}}}%
\ottfunclause{\texttt{\textcolor{red}{<<error>>}}}{\texttt{\textcolor{red}{<<(St\_uninterpreted no parses (char 31):                               e***lse Union\{ts\} )>>}}}%
\end{ottfundefnblock}}


\newcommand{\ottfundefnsSimplify}{
\ottfundefnsimplifyUnion{}
\ottfundefnsimplify{}
\ottfundefnsimplifyUnionInt{}}

% defns WellFormed
%% defn typeof
\newcommand{\ottdruletypeofXXany}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{\textcolor{red}{<<no parses (char 13):     simplify(***t) = Any >>}}}%
}{
\ottnt{G}  \vdash  \ottnt{t}  \ottsym{:}  \texttt{\small\color{jlbuiltin} DataType}}{%
{\ottdrulename{typeof\_any}}{}%
}}


\newcommand{\ottdruletypeofXXkind}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small is\_kind}( \ottnt{t} ) }%
}{
\ottnt{G}  \vdash  \ottnt{t}  \ottsym{:}  \texttt{\small\color{jlbuiltin} DataType}}{%
{\ottdrulename{typeof\_kind}}{}%
}}


\newcommand{\ottdruletypeofXXunionall}[1]{\ottdrule[#1]{%
}{
\texttt{\textcolor{red}{<<no parses (char 19):     G \mbox{$\mid$}- UnionAll t*** : DataType >>}}}{%
{\ottdrulename{typeof\_unionall}}{}%
}}


\newcommand{\ottdruletypeofXXtypet}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{G}  \vdash  \ottnt{t}  \ottsym{:}  \ottnt{t'}}%
}{
\ottnt{G}  \vdash  \texttt{\small\color{jlbuiltin} Type}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \ottsym{:}  \texttt{\small\color{jlbuiltin} DataType}}{%
{\ottdrulename{typeof\_typet}}{}%
}}


\newcommand{\ottdruletypeofXXtuple}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{G}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{t'_{{\mathrm{1}}}} \quad .. \quad \ottnt{G}  \vdash  \ottnt{t_{\ottmv{m}}}  \ottsym{:}  \ottnt{t'_{\ottmv{m}}}}%
}{
\ottnt{G}  \vdash  \texttt{\small\color{jlbuiltin} Tuple}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{m}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \ottsym{:}  \texttt{\small\color{jlbuiltin} DataType}}{%
{\ottdrulename{typeof\_tuple}}{}%
}}


\newcommand{\ottdruletypeofXXunionXXunion}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{G}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{t'_{{\mathrm{1}}}} \quad .. \quad \ottnt{G}  \vdash  \ottnt{t_{\ottmv{m}}}  \ottsym{:}  \ottnt{t'_{\ottmv{m}}}}%
\ottpremise{ \textit{simplify\_union} \, \texttt{\small\color{jlkeyword} (}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{m}}}  \texttt{\small\color{jlkeyword} )}  =  \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t''_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t''_{\ottmv{j}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} }%
}{
\ottnt{G}  \vdash  \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{m}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \ottsym{:}  \texttt{\small\color{jlbuiltin} Union}}{%
{\ottdrulename{typeof\_union\_union}}{}%
}}


\newcommand{\ottdruletypeofXXunionXXnotXXunion}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{G}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{t'_{{\mathrm{1}}}} \quad .. \quad \ottnt{G}  \vdash  \ottnt{t_{\ottmv{m}}}  \ottsym{:}  \ottnt{t'_{\ottmv{m}}}}%
\ottpremise{ \textit{simplify\_union} \, \texttt{\small\color{jlkeyword} (}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{m}}}  \texttt{\small\color{jlkeyword} )}  =  \ottnt{t'} }%
\ottpremise{ \ottnt{t'}  \not=  \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t''_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t''_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} }%
\ottpremise{\ottnt{G}  \vdash  \ottnt{t'}  \ottsym{:}  \ottnt{t''}}%
}{
\ottnt{G}  \vdash  \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{m}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \ottsym{:}  \ottnt{t''}}{%
{\ottdrulename{typeof\_union\_not\_union}}{}%
}}


\newcommand{\ottdruletypeofXXwhere}[1]{\ottdrule[#1]{%
\ottpremise{  \texttt{\small\color{jlbase}T}  \in   \textit{ftv}( \ottnt{t} )    \wedge   \ottnt{t}  \not=  \texttt{\small\color{jlbase}T}  }%
\ottpremise{\texttt{\textcolor{red}{<<no parses (char 6):     T,*** G \mbox{$\mid$}- t : t' >>}}}%
}{
\texttt{\textcolor{red}{<<no parses (char 32):     G \mbox{$\mid$}- t where T : UnionAll t'*** >>}}}{%
{\ottdrulename{typeof\_where}}{}%
}}


\newcommand{\ottdruletypeofXXappXXone}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{G}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{t'_{{\mathrm{1}}}}}%
\ottpremise{\texttt{\textcolor{red}{<<no parses (char 24):     G \mbox{$\mid$}- t : UnionAll t'*** >>}}}%
}{
\ottnt{G}  \vdash  \ottnt{t}  \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \ottsym{:}  \ottnt{t'}}{%
{\ottdrulename{typeof\_app\_one}}{}%
}}


\newcommand{\ottdruletypeofXXappXXmany}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{G}  \vdash  \texttt{\small\color{jlkeyword} (}  \ottnt{t}  \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \texttt{\small\color{jlkeyword} )}  \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{m}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \ottsym{:}  \ottnt{t'}}%
}{
\ottnt{G}  \vdash  \ottnt{t}  \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{m}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \ottsym{:}  \ottnt{t'}}{%
{\ottdrulename{typeof\_app\_many}}{}%
}}


\newcommand{\ottdruletypeofXXvar}[1]{\ottdrule[#1]{%
\ottpremise{ \texttt{\small\color{jlbase}T}  \in  \ottnt{G} }%
}{
\ottnt{G}  \vdash  \texttt{\small\color{jlbase}T}  \ottsym{:}  \texttt{\small\color{jlbuiltin} DataType}}{%
{\ottdrulename{typeof\_var}}{}%
}}


\newcommand{\ottdruletypeofXXnameXXdatatype}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small attr} \, \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \,  \texttt{\small\color{jlkeyword} \}\kern0pt}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t}  \in  \textit{\small tds} }%
}{
\ottnt{G}  \vdash  \textit{\small name}  \ottsym{:}  \texttt{\small\color{jlbuiltin} DataType}}{%
{\ottdrulename{typeof\_name\_datatype}}{}%
}}


\newcommand{\ottdruletypeofXXnameXXdatatypeXXbis}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small attr} \, \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \texttt{\small\color{jlbase}T}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \texttt{\small\color{jlbase}T}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t}  \in  \textit{\small tds} }%
}{
\ottnt{G}  \vdash  \textit{\small name}  \ottsym{:}   \texttt{\small\color{jlbuiltin} UnionAll} _{  \texttt{\small\color{jlbuiltin} UnionAll} _2 ..  \texttt{\small\color{jlbuiltin} UnionAll} _n  \texttt{\small\color{jlbuiltin} DataType} } }{%
{\ottdrulename{typeof\_name\_datatype\_bis}}{}%
}}

\newcommand{\ottdefntypeofXXtypeof}[1]{\begin{ottdefnblock}[#1]{$\ottnt{G}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{t_{{\mathrm{2}}}}$}{\ottcom{type \ottnt{t_{{\mathrm{1}}}} has type \ottnt{t_{{\mathrm{2}}}}}}
\ottusedrule{\ottdruletypeofXXany{}}
\ottusedrule{\ottdruletypeofXXkind{}}
\ottusedrule{\ottdruletypeofXXunionall{}}
\ottusedrule{\ottdruletypeofXXtypet{}}
\ottusedrule{\ottdruletypeofXXtuple{}}
\ottusedrule{\ottdruletypeofXXunionXXunion{}}
\ottusedrule{\ottdruletypeofXXunionXXnotXXunion{}}
\ottusedrule{\ottdruletypeofXXwhere{}}
\ottusedrule{\ottdruletypeofXXappXXone{}}
\ottusedrule{\ottdruletypeofXXappXXmany{}}
\ottusedrule{\ottdruletypeofXXvar{}}
\ottusedrule{\ottdruletypeofXXnameXXdatatype{}}
\ottusedrule{\ottdruletypeofXXnameXXdatatypeXXbis{}}
\end{ottdefnblock}}

%% defn is_abstract
\newcommand{\ottdruletypeofXXisXXabsXXname}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{\textcolor{red}{<<no parses (char 30):   tds \mbox{$\mid$}=\mbox{$\mid$} name \{ T1 , .. , Tn\}*** <: t abstract >>}}}%
}{
\textit{is\_abstract} \, \texttt{\small\color{jlkeyword} (}  \textit{\small tds}  \ottsym{,}  \textit{\small name}  \texttt{\small\color{jlkeyword} )}}{%
{\ottdrulename{typeof\_is\_abs\_name}}{}%
}}


\newcommand{\ottdruletypeofXXisXXabsXXapp}[1]{\ottdrule[#1]{%
\ottpremise{\textit{is\_abstract} \, \texttt{\small\color{jlkeyword} (}  \textit{\small tds}  \ottsym{,}  \ottnt{t}  \texttt{\small\color{jlkeyword} )}}%
}{
\textit{is\_abstract} \, \texttt{\small\color{jlkeyword} (}  \textit{\small tds}  \ottsym{,}  \ottnt{t}  \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}  \texttt{\small\color{jlkeyword} )}}{%
{\ottdrulename{typeof\_is\_abs\_app}}{}%
}}


\newcommand{\ottdruletypeofXXisXXabsXXwhere}[1]{\ottdrule[#1]{%
\ottpremise{\textit{is\_abstract} \, \texttt{\small\color{jlkeyword} (}  \textit{\small tds}  \ottsym{,}  \ottnt{t}  \texttt{\small\color{jlkeyword} )}}%
}{
\textit{is\_abstract} \, \texttt{\small\color{jlkeyword} (}  \textit{\small tds}  \ottsym{,}   \ottnt{t} \:  \texttt{\small\color{jlbase}\textbf{where}\kern0pt} \:  \texttt{\small\color{jlbase}T}   \texttt{\small\color{jlkeyword} )}}{%
{\ottdrulename{typeof\_is\_abs\_where}}{}%
}}

\newcommand{\ottdefntypeofXXisXXabstract}[1]{\begin{ottdefnblock}[#1]{$\textit{is\_abstract} \, \texttt{\small\color{jlkeyword} (}  \textit{\small tds}  \ottsym{,}  \ottnt{t}  \texttt{\small\color{jlkeyword} )}$}{\ottcom{type \ottnt{t} is abstract}}
\ottusedrule{\ottdruletypeofXXisXXabsXXname{}}
\ottusedrule{\ottdruletypeofXXisXXabsXXapp{}}
\ottusedrule{\ottdruletypeofXXisXXabsXXwhere{}}
\end{ottdefnblock}}

%% defn well_formed_type_declaration
\newcommand{\ottdruletypeofXXwfXXabstract}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small name} \, \notin\,  \textit{\small tds} }%
\ottpremise{\textit{is\_abstract} \, \texttt{\small\color{jlkeyword} (}  \textit{\small tds}  \ottsym{,}  \ottnt{t}  \texttt{\small\color{jlkeyword} )}}%
\ottpremise{\texttt{\textcolor{red}{<<no parses (char 22):     t != UnionAll t1 /***\mbox{$\backslash{}$} t != UnionK /\mbox{$\backslash{}$} t != Tuple\{t1,..,tn\} /\mbox{$\backslash{}$} t != DataType >>}}}%
\ottpremise{\texttt{\textcolor{red}{<<no parses (char 8):     tds;*** T1,..,Tn \mbox{$\mid$}- t : DataType >>}}}%
}{
\texttt{\textcolor{red}{<<no parses (char 33):     tds \mbox{$\mid$}- wf(name \{ T1 ,.., Tn \}*** <: t abstract) >>}}}{%
{\ottdrulename{typeof\_wf\_abstract}}{}%
}}

\newcommand{\ottdefntypeofXXwellXXformedXXtypeXXdeclaration}[1]{\begin{ottdefnblock}[#1]{$\textit{\small tds}  \vdash \, \textit{wf} \, \texttt{\small\color{jlkeyword} (}  \ottnt{td}  \texttt{\small\color{jlkeyword} )}$}{\ottcom{type declaration \ottnt{td} is well formed}}
\ottusedrule{\ottdruletypeofXXwfXXabstract{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsWellFormed}{
\ottdefntypeofXXtypeof{}\ottdefntypeofXXisXXabstract{}\ottdefntypeofXXwellXXformedXXtypeXXdeclaration{}}

% defns Subtype
%% defn defined_type

\newcommand{\ottdefndefinedXXtype}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{td}  \in  \textit{\small tds} $}{\ottcom{\ottnt{td} is included in \textit{\small tds}}}
\end{ottdefnblock}}

%% defn subtype
\newcommand{\ottdrulerefl}[1]{\ottdrule[#1]{%
}{
 \textit{\small E}   \vdash   \textit{\small a}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small a} \,  \vdash   \textit{\small E} }{%
{\ottdrulename{refl}}{}%
}}


\newcommand{\ottdruletrans}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t_{{\mathrm{1}}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t_{{\mathrm{2}}}} \,  \vdash   \textit{\small E} }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t_{{\mathrm{2}}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t_{{\mathrm{3}}}} \,  \vdash   \textit{\small E} }%
}{
 \textit{\small E}   \vdash   \ottnt{t_{{\mathrm{1}}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t_{{\mathrm{3}}}} \,  \vdash   \textit{\small E} }{%
{\ottdrulename{trans}}{}%
}}


\newcommand{\ottdruletop}[1]{\ottdrule[#1]{%
}{
 \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbuiltin} Any} \,  \vdash   \textit{\small E} }{%
{\ottdrulename{top}}{}%
}}


\newcommand{\ottdrulebottom}[1]{\ottdrule[#1]{%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \,  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E} }{%
{\ottdrulename{bottom}}{}%
}}


\newcommand{\ottdruleunionXXleft}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t_{{\mathrm{1}}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}_{{\mathrm{1}}} \texttt{  .. }  \textit{\small reset\_occ}_{ \textit{\small E} }(  E_{n-1}  )    \vdash   \ottnt{t_{\ottmv{n}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}_{\ottmv{n}} \texttt{ }}%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash    \textit{\small max\_occ}_{E_1..E_n}( \textit{\small E}_{\ottmv{n}} )  }{%
{\ottdrulename{union\_left}}{}%
}}


\newcommand{\ottdruleunionXXleftXXalt}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t_{{\mathrm{1}}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}_{{\mathrm{1}}}  \quad .. \quad  \textit{\small E}   \vdash   \ottnt{t_{\ottmv{n}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}_{\ottmv{n}} }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small merge} \, \texttt{\small\color{jlkeyword} (}  \textit{\small E}_{{\mathrm{1}}} \, .. \, \textit{\small E}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} )} }{%
{\ottdrulename{union\_left\_alt}}{}%
}}


\newcommand{\ottdruleunionXXright}[1]{\ottdrule[#1]{%
\ottpremise{ \exists\,  \ottmv{j} .\,   \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t_{\ottmv{j}}} \,  \vdash   \textit{\small E}'  }%
}{
 \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{union\_right}}{}%
}}


\newcommand{\ottdruletuple}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small E}   \vdash   \textit{\small a}_{{\mathrm{1}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small a}'_{{\mathrm{1}}} \,  \vdash   \textit{\small E}_{{\mathrm{1}}} \texttt{  ..  }  E_{n-1}    \vdash   \textit{\small a}_{\ottmv{n}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small a}'_{\ottmv{n}} \,  \vdash   \textit{\small E}_{\ottmv{n}} \texttt{  }}%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbuiltin} Tuple}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbuiltin} Tuple}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}'_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}'_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash   \textit{\small E}_{\ottmv{n}} }{%
{\ottdrulename{tuple}}{}%
}}


\newcommand{\ottdruletupleXXliftXXunion}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{t'}  =   \textit{\small lift\_union}( \texttt{\small\color{jlbuiltin} Tuple}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt} )  }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t'}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbuiltin} Tuple}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{tuple\_lift\_union}}{}%
}}


\newcommand{\ottdruletupleXXunliftXXunion}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{t'}  =   \textit{\small unlift\_union}( \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} )  }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t'} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{tuple\_unlift\_union}}{}%
}}


\newcommand{\ottdruledecl}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{\textcolor{red}{<<no parses (char 26):     tds \mbox{$\mid$}=\mbox{$\mid$} name\{T1,..,Tn\}*** <: t attr >>}}}%
}{
 \textit{\small E}   \vdash   \textit{\small name}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E} }{%
{\ottdrulename{decl}}{}%
}}


\newcommand{\ottdruleappXXinv}[1]{\ottdrule[#1]{%
\ottpremise{ \ottmv{n} \, {\small \leq}\,  \ottmv{m} }%
\ottpremise{ \textit{\small E}_{{\mathrm{0}}}  =   \textit{\small add}(  \textsf{\small Barrier}  , \textit{\small E} )  }%
\ottpremise{ \forall\, 0<\textit{i}\leq n.\ \texttt{  }  E_{i-1}    \vdash   \textit{\small a}_{\ottmv{i}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small a}'_{\ottmv{i}} \,  \vdash   \textit{\small E}'_{\ottmv{i}} \texttt{ } \wedge \texttt{ } \textit{\small E}'_{\ottmv{i}}   \vdash   \textit{\small a}'_{\ottmv{i}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small a}_{\ottmv{i}} \,  \vdash   \textit{\small E}_{\ottmv{i}} \texttt{ }}%
}{
 \textit{\small E}   \vdash   \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{m}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \textit{\small a}'_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}'_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash    \textit{\small del}(\textsf{\small Barrier}, \textit{\small E}_{\ottmv{n}} )  }{%
{\ottdrulename{app\_inv}}{}%
}}


\newcommand{\ottdruleappXXsuper}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \texttt{\small\color{jlbase}T}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \texttt{\small\color{jlbase}T}_{\ottmv{m}}  \ottsym{,} \, .. \, \texttt{\small\color{jlkeyword} \}\kern0pt}  \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,  \ottnt{t''}  \in  \textit{\small tds} }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t''}  \ottsym{[}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{/}  \texttt{\small\color{jlbase}T}_{{\mathrm{1}}} \, .. \, \textit{\small a}_{\ottmv{m}}  \ottsym{/}  \texttt{\small\color{jlbase}T}_{\ottmv{m}}  \ottsym{]}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t'} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{m}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t'} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{app\_super}}{}%
}}


\newcommand{\ottdruleappXXtop}[1]{\ottdrule[#1]{%
}{
 \textit{\small E}   \vdash   \textit{\small name}  \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{t_{\ottmv{n}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small name} \,  \vdash   \textit{\small E} }{%
{\ottdrulename{app\_top}}{}%
}}


\newcommand{\ottdrulebetaXXleft}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t}  \ottsym{[}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{/}  \texttt{\small\color{jlbase}T}  \ottsym{]}  \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{2}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t'} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlkeyword} (}   \ottnt{t} \:  \texttt{\small\color{jlbase}\textbf{where}\kern0pt} \:  \ottnt{t'_{{\mathrm{1}}}} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \texttt{\small\color{jlbase}T} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \ottnt{t'_{{\mathrm{2}}}}   \texttt{\small\color{jlkeyword} )}  \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,}  \textit{\small a}_{{\mathrm{2}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t'} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{beta\_left}}{}%
}}


\newcommand{\ottdrulebetaXXright}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t'}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t}  \ottsym{[}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{/}  \texttt{\small\color{jlbase}T}  \ottsym{]}  \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{2}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \ottnt{t'}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlkeyword} (}   \ottnt{t} \:  \texttt{\small\color{jlbase}\textbf{where}\kern0pt} \:  \ottnt{t'_{{\mathrm{1}}}} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \texttt{\small\color{jlbase}T} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \ottnt{t'_{{\mathrm{2}}}}   \texttt{\small\color{jlkeyword} )}  \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \ottsym{,}  \textit{\small a}_{{\mathrm{2}}}  \ottsym{,} \, .. \, \ottsym{,}  \textit{\small a}_{\ottmv{n}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{beta\_right}}{}%
}}


\newcommand{\ottdruleLXXintroXXold}[1]{\ottdrule[#1]{%
\ottpremise{\texttt{\textcolor{red}{<<no parses (char 30):      T\mbox{$\uparrow$}L\_(Union\{\},Any), E \mbox{$\mid$}- t*** <: t' \mbox{$\mid$}-  E' >>}}}%
}{
\texttt{\textcolor{red}{<<no parses (char 11):      E \mbox{$\mid$}- t*** where T <: t' \mbox{$\mid$}-  E' \mbox{$\backslash{}$} T >>}}}{%
{\ottdrulename{L\_intro\_old}}{}%
}}


\newcommand{\ottdruleLXXintro}[1]{\ottdrule[#1]{%
\ottpremise{  \textit{\small add}(  {}^\textit{L} { \texttt{\small\color{jlbase}T} }_{ \ottnt{t_{{\mathrm{1}}}} }^{ \ottnt{t_{{\mathrm{2}}}} }  , \textit{\small E} )    \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t'} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash    \ottnt{t} \:  \texttt{\small\color{jlbase}\textbf{where}\kern0pt} \:  \ottnt{t_{{\mathrm{1}}}} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \texttt{\small\color{jlbase}T} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \ottnt{t_{{\mathrm{2}}}}    \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t'} \,  \vdash    \textit{\small del}( \texttt{\small\color{jlbase}T} , \textit{\small E}' )  }{%
{\ottdrulename{L\_intro}}{}%
}}


\newcommand{\ottdruleRXXintro}[1]{\ottdrule[#1]{%
\ottpremise{  \textit{\small add}(  {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \ottnt{t_{{\mathrm{1}}}} }^{ \ottnt{t_{{\mathrm{2}}}} }  , \textit{\small E} )    \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t'} \,  \vdash   \textit{\small E}' }%
\ottpremise{ \textit{\small consistent}( \texttt{\small\color{jlbase}T} , \textit{\small E}' ) }%
}{
 \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,    \ottnt{t'} \:  \texttt{\small\color{jlbase}\textbf{where}\kern0pt} \:  \ottnt{t_{{\mathrm{1}}}} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \texttt{\small\color{jlbase}T} \!\! \,\,\, \texttt{\small\color{jlkeyword} <:}\,\, \!\! \ottnt{t_{{\mathrm{2}}}}  \,  \vdash    \textit{\small del}( \texttt{\small\color{jlbase}T} , \textit{\small E}' )  }{%
{\ottdrulename{R\_intro}}{}%
}}


\newcommand{\ottdruleLXXright}[1]{\ottdrule[#1]{%
\ottpremise{  \textit{\small search}( \texttt{\small\color{jlbase}T} , \textit{\small E} )   =   {}^\textit{L} { \texttt{\small\color{jlbase}T} }_{ \ottnt{l} }^{ \ottnt{u} }  }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{l} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbase}T} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{L\_right}}{}%
}}


\newcommand{\ottdruleLXXleft}[1]{\ottdrule[#1]{%
\ottpremise{  \textit{\small search}( \texttt{\small\color{jlbase}T} , \textit{\small E} )   =   {}^\textit{L} { \texttt{\small\color{jlbase}T} }_{ \ottnt{l} }^{ \ottnt{u} }  }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{u}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbase}T}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{L\_left}}{}%
}}


\newcommand{\ottdruleRXXright}[1]{\ottdrule[#1]{%
\ottpremise{  \textit{\small search}( \texttt{\small\color{jlbase}T} , \textit{\small E} )   =   {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \ottnt{l} }^{ \ottnt{u} }  }%
\ottpremise{ \texttt{\small\color{jlkeyword} (}    \textit{\small is\_var} ( \ottnt{t} )   \wedge    \textit{\small search}( \ottnt{t} , \textit{\small E} )   =   {}^\textit{L} { \texttt{\small\color{jlbase}S} }_{ \ottnt{l_{{\mathrm{1}}}} }^{ \ottnt{u_{{\mathrm{1}}}} }     \texttt{\small\color{jlkeyword} )}  \Rightarrow   \neg \textit{\small outside}( \texttt{\small\color{jlbase}T} , \texttt{\small\color{jlbase}S} ,  \textit{\small E} )  }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{u} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \ottnt{t}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbase}T} \,  \vdash    \textit{\small upd}(  {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{l}  \ottsym{,}  \ottnt{t}  \texttt{\small\color{jlkeyword} \}\kern0pt} }^{ \ottnt{u} }  ,  \textit{\small E}' )  }{%
{\ottdrulename{R\_right}}{}%
}}


\newcommand{\ottdruleRXXleftXXmeet}[1]{\ottdrule[#1]{%
\ottpremise{  \textit{\small search}( \texttt{\small\color{jlbase}T} , \textit{\small E} )   =   {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \ottnt{l} }^{ \ottnt{u} }  }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{l}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbase}T}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash    \textit{\small upd}(  {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \ottnt{l} }^{  \ottnt{t}  \cap  \ottnt{u}  }  ,  \textit{\small E}' )  }{%
{\ottdrulename{R\_left\_meet}}{}%
}}


\newcommand{\ottdruleRXXleft}[1]{\ottdrule[#1]{%
\ottpremise{  \textit{\small search}( \texttt{\small\color{jlbase}T} , \textit{\small E} )   =   {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \ottnt{l} }^{ \ottnt{u} }  }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{l}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbase}T}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t} \,  \vdash    \textit{\small upd}(  {}^\textit{R} { \texttt{\small\color{jlbase}T} }_{ \ottnt{l} }^{ \ottnt{t} }  ,  \textit{\small E}' )  }{%
{\ottdrulename{R\_left}}{}%
}}


\newcommand{\ottdruleRXXL}[1]{\ottdrule[#1]{%
\ottpremise{   \textit{\small search}( \texttt{\small\color{jlbase}T}_{{\mathrm{1}}} , \textit{\small E} )   =   {}^\textit{R} { \texttt{\small\color{jlbase}T}_{{\mathrm{1}}} }_{ \ottnt{l_{{\mathrm{1}}}} }^{ \ottnt{u_{{\mathrm{1}}}} }     \qquad     \textit{\small search}( \texttt{\small\color{jlbase}T}_{{\mathrm{2}}} , \textit{\small E} )   =   {}^\textit{L} { \texttt{\small\color{jlbase}T}_{{\mathrm{2}}} }_{ \ottnt{l_{{\mathrm{2}}}} }^{ \ottnt{u_{{\mathrm{2}}}} }   }%
\ottpremise{  \textit{\small outside}( \texttt{\small\color{jlbase}T}_{{\mathrm{1}}} , \texttt{\small\color{jlbase}T}_{{\mathrm{2}}} ,  \textit{\small E} )   \Rightarrow   \textit{\small E}   \vdash   \ottnt{u_{{\mathrm{2}}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{l_{{\mathrm{2}}}} \,  \vdash   \textit{\small E}'  }%
\ottpremise{ \textit{\small E}   \vdash   \ottnt{u_{{\mathrm{1}}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{l_{{\mathrm{2}}}} \,  \vdash   \textit{\small E}'' }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbase}T}_{{\mathrm{1}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbase}T}_{{\mathrm{2}}} \,  \vdash    \textit{\small upd}(  {}^\textit{R} { \texttt{\small\color{jlbase}T}_{{\mathrm{1}}} }_{ \texttt{\small\color{jlbuiltin} Union}\! \, \texttt{\small\color{jlkeyword} \{}  \texttt{\small\color{jlbase}T}_{{\mathrm{1}}}  \ottsym{,}  \ottnt{l_{{\mathrm{1}}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} }^{ \ottnt{u_{{\mathrm{1}}}} }  ,  \textit{\small E}' )  }{%
{\ottdrulename{R\_L}}{}%
}}


\newcommand{\ottdruleTypeXXType}[1]{\ottdrule[#1]{%
\ottpremise{  \textit{\small add}(  \textsf{\small Barrier}  , \textit{\small E} )    \vdash   \textit{\small a}_{{\mathrm{1}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small a}_{{\mathrm{2}}} \,  \vdash   \textit{\small E}' }%
\ottpremise{ \textit{\small E}'   \vdash   \textit{\small a}_{{\mathrm{2}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small a}_{{\mathrm{1}}} \,  \vdash   \textit{\small E}'' }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbuiltin} Type}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbuiltin} Type}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{2}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash    \textit{\small del}(\textsf{\small Barrier}, \textit{\small E}'' )  }{%
{\ottdrulename{Type\_Type}}{}%
}}


\newcommand{\ottdruleTypeXXleft}[1]{\ottdrule[#1]{%
\ottpremise{ \neg \textit{\small is\_var} ( \textit{\small a}_{{\mathrm{1}}} ) }%
\ottpremise{ \textit{\small E}   \vdash    \textit{\small typeof}\xspace{} ( \textit{\small a}_{{\mathrm{1}}} )    \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t_{{\mathrm{2}}}} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \texttt{\small\color{jlbuiltin} Type}\! \, \texttt{\small\color{jlkeyword} \{}  \textit{\small a}_{{\mathrm{1}}}  \texttt{\small\color{jlkeyword} \}\kern0pt}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \ottnt{t_{{\mathrm{2}}}} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{Type\_left}}{}%
}}


\newcommand{\ottdruleTypeXXright}[1]{\ottdrule[#1]{%
\ottpremise{ \textit{\small is\_kind}( \ottnt{t_{{\mathrm{1}}}} ) }%
\ottpremise{ \textit{\small is\_var} ( \ottnt{t_{{\mathrm{2}}}} ) }%
\ottpremise{ \textit{\small E}   \vdash    \texttt{\small\color{jlbuiltin} Type}\! \, \texttt{\small\color{jlkeyword} \{}  \texttt{\small\color{jlbase}T}  \texttt{\small\color{jlkeyword} \}\kern0pt} \:  \texttt{\small\color{jlbase}\textbf{where}\kern0pt} \:  \texttt{\small\color{jlbase}T}    \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbuiltin} Type}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{2}}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash   \textit{\small E}' }%
}{
 \textit{\small E}   \vdash   \ottnt{t_{{\mathrm{1}}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \texttt{\small\color{jlbuiltin} Type}\! \, \texttt{\small\color{jlkeyword} \{}  \ottnt{t_{{\mathrm{2}}}}  \texttt{\small\color{jlkeyword} \}\kern0pt} \,  \vdash   \textit{\small E}' }{%
{\ottdrulename{Type\_right}}{}%
}}

\newcommand{\ottdefnsubtype}[1]{\begin{ottdefnblock}[#1]{$ \textit{\small E}   \vdash   \textit{\small a}_{{\mathrm{1}}}   \,\,\, \texttt{\small\color{jlkeyword} <:}\,\,   \textit{\small a}_{{\mathrm{2}}} \,  \vdash   \textit{\small E}' $}{\ottcom{given type declarations \ottkw{tds}, \textit{\small a}_{{\mathrm{1}}} is subtype of \textit{\small a}_{{\mathrm{2}}}}}
\ottusedrule{\ottdrulerefl{}}
\ottusedrule{\ottdruletrans{}}
\ottusedrule{\ottdruletop{}}
\ottusedrule{\ottdrulebottom{}}
\ottusedrule{\ottdruleunionXXleft{}}
\ottusedrule{\ottdruleunionXXleftXXalt{}}
\ottusedrule{\ottdruleunionXXright{}}
\ottusedrule{\ottdruletuple{}}
\ottusedrule{\ottdruletupleXXliftXXunion{}}
\ottusedrule{\ottdruletupleXXunliftXXunion{}}
\ottusedrule{\ottdruledecl{}}
\ottusedrule{\ottdruleappXXinv{}}
\ottusedrule{\ottdruleappXXsuper{}}
\ottusedrule{\ottdruleappXXtop{}}
\ottusedrule{\ottdrulebetaXXleft{}}
\ottusedrule{\ottdrulebetaXXright{}}
\ottusedrule{\ottdruleLXXintroXXold{}}
\ottusedrule{\ottdruleLXXintro{}}
\ottusedrule{\ottdruleRXXintro{}}
\ottusedrule{\ottdruleLXXright{}}
\ottusedrule{\ottdruleLXXleft{}}
\ottusedrule{\ottdruleRXXright{}}
\ottusedrule{\ottdruleRXXleftXXmeet{}}
\ottusedrule{\ottdruleRXXleft{}}
\ottusedrule{\ottdruleRXXL{}}
\ottusedrule{\ottdruleTypeXXType{}}
\ottusedrule{\ottdruleTypeXXleft{}}
\ottusedrule{\ottdruleTypeXXright{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsSubtype}{
\ottdefndefinedXXtype{}\ottdefnsubtype{}}

\newcommand{\ottdefnss}{
\ottfundefnsSimplify
\ottdefnsWellFormed
\ottdefnsSubtype
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

